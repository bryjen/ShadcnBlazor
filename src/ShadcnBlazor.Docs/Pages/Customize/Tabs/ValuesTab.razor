<div class="h-full overflow-y-auto scrollbar-hide pr-1">
    
    <div id="presets" class="overflow-hidden">
        <h2 class="font-bold text-2xl text-foreground mb-4">
            Presets
        </h2>
        
        @*
        <div class="space-y-2">
            <label class="text-xs text-muted-foreground">Theme Preset</label>
            <Select T="ThemePreset"
                    Value="@_selectedThemePreset"
                    ValueChanged="OnThemePresetChanged"
                    Label="Theme Preset"
                    Items="@_themePresetOptions"
                    RenderItem="@RenderThemePresetItem"
                    Placeholder="Select a theme"></Select>
        </div>
*@
    </div>
    
    <div id="colors" class="overflow-hidden">
        <h2 class="font-bold text-2xl text-foreground mb-4">
            Colors
        </h2>

        @for (var sectionIndex = 0; sectionIndex < Sections.Count; sectionIndex++)
        {
            var sectionIdx = sectionIndex;
            var group = Sections[sectionIdx];

            <section class="pb-7" @key="group.Title">
                <h3 class="text-sm font-semibold text-card-foreground">@group.Title</h3>
                <div class="grid grid-cols-2 gap-3">
                    @for (var fieldIndex = 0; fieldIndex < group.Fields.Count; fieldIndex++)
                    {
                        var fieldIdx = fieldIndex;
                        var field = group.Fields[fieldIdx];
                        var isValid = IsValidCssColor(field.Value);

                        <div class="space-y-1" @key="field.CssVarName">
                            <label class="text-[11px] font-medium text-muted-foreground">
                                @field.Label
                            </label>
                            <div class="grid grid-cols-[1.75rem_1fr] gap-2 items-center">
                                <div class="h-7 w-7 rounded-md border border-border" style="@GetSwatchStyle(field.Value, isValid)"></div>
                                <Input Value="@field.Value"
                                       Class="text-[0.775rem] text-foreground/75"
                                       OnChange="@(async e => await UpdateFieldValueAsync(field.CssVarName, e.Value?.ToString() ?? string.Empty))"/>
                            </div>
                        </div>
                    }
                </div>
            </section>
        }
    </div>
</div>

