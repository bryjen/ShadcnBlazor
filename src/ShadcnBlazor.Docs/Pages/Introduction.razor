@page "/introduction"
@using EasyAppDev.Blazor.Icons.Lucide

<TocPageBase>
<div class="flex flex-col gap-8 min-w-0">
    <div class="flex flex-col gap-1">
        <h1 class="text-3xl font-bold">Introduction</h1>
        <p class="text-base text-muted-foreground">shadcn/ui is a set of beautifully-designed, accessible components and a code distribution platform. Works with your favorite frameworks and AI models. Open Source. Open Code.</p>
    </div>

    <div class="w-full text-[0.9rem] leading-relaxed text-foreground/85">
        <p class="mb-3">
            I'm sure you're well aware of the problems of typical component libraries: you install a package from <code>NuGet</code>, configure your project, and then use the components in your app. 
            This approach works until you need to modify the source code of your system to fit the requirements of your app.
            For example, you may need to expose the internal state of a component, or you need finer control over the styling.
            Often, you end up wrapping library components, writing workarounds to override styles, or mixing components from different libraries with incompatible APIs.
        </p>
        
        <p class="mb-3">
            ShadcnBlazor solves this by copying component source code directly into your projectâ€”you own the code. 
            There's no black box: components live in your codebase, so you can read, modify, and extend them however you need.
            Components are built with Tailwind CSS v4 and semantic CSS variables for theming. 
            They're accessible, customizable, and designed to fit naturally into Blazor apps without fighting the framework.
        </p>
    </div>

    <DocsSection Title="Installation" Id="installation">
        
        <div class="flex flex-col gap-8">
            <div class="mb-8">
                <p class="mb-3">
                    First, make sure you have the <code>shadcnblazor</code> CLI tool installed. If you don't have it yet, you can install it globally using the command provided below:
                </p>

                <CommandBlock Options="@InstallOptions" DefaultOption="@("dotnet")"/>
            </div>

            <DocsSubSection Title="Installation Details" Id="installation-details">
                <div class="flex flex-col gap-8">
                    <div class="flex flex-col gap-2">
                        <p class="mb-3">
                            The CLI initializes a <code>shadcn-blazor.yaml</code> file, which holds the configuration for your project.
                            It contains the path where components will be generated and the root namespace for proper namespacing and resolution of the generated code.
                        </p>
                        <CodeBlock Code="@ExampleShadcnBlazorYaml" Language="yaml"/>
                    </div>

                    <div class="flex flex-col gap-2">
                        <p class="mb-3">
                            During initialization, the tool imports a <code>Shared</code> directory that contains enums, services, and other shared code used by the components.
                            This is a one-time import, and the files are copied into your project so you can modify them as needed.
                        </p>
                        <CodeBlock Code="@ExampleSharedDirectoryAscii" Language="text"/>
                    </div>
                    
                    <div class="flex flex-col gap-2">
                        <p class="mb-3">
                            When importing/adding components, the CLI tool generates the component files in the specified directory.
                        </p>
                        <CodeBlock Code="@ExampleButtonComponentDirectoryAscii" Language="text"/>
                    </div>
                    
                    <div class="flex flex-col gap-2">
                        <p class="mb-3">
                            For more complex components, like <code>Popover</code>, classes such as models, enums, interfaces, and services are generated in subdirectories within the component directory.
                            This keeps related functionality neatly organized, and allows better separation of concerns while still giving you full access to modify and extend the code as needed.
                        </p>
                        <CodeBlock Code="@ExamplePopoverComponentDirectoryAscii" Language="text"/>
                    </div>
                    
                    <div class="flex flex-col gap-2">
                        <p class="mb-3">
                            For more information, see.
                        </p>
                    </div>
                </div>
            </DocsSubSection>

            <DocsSubSection Title="From New Project" Id="installation-new">
                <div class="flex flex-col gap-4">
                    <div class="flex flex-col gap-8 mt-3">
                        @RenderStep(1,
                            @<div class="flex flex-col gap-3">
                                <span class="font-bold text-lg">Create New Project</span>
                                <span class="text-[0.9rem] leading-relaxed text-foreground/85">
                                    Use the <code>new</code> command to scaffold a Blazor project from a template. Specify <code>--wasm</code> for WebAssembly standalone or <code>--server</code> for Blazor Server with global interactivity.
                                </span>
                                <CommandBlock Options="@NewProject1" DefaultOption="@("dotnet")"/>
                                <span class="text-[0.9rem] leading-relaxed text-foreground/85">
                                    Use <code>-o</code> or <code>--out</code> to specify an output directory. By default, the project is created in <code>./{proj}</code>.
                                </span>
                                <CommandBlock Options="@NewProject1WithOut" DefaultOption="@("dotnet")"/>
                            </div>)

                        @RenderStep(2,
                            @<div class="flex flex-col gap-3">
                                <span class="font-bold text-lg">Add Components</span>
                                <span class="text-[0.9rem] leading-relaxed text-foreground/85">
                                    Navigate into the project directory and add components.
                                </span>
                                <CommandBlock Options="@NewProject2" DefaultOption="@("dotnet")"/>

                                <span class="mt-4 text-[0.9rem] leading-relaxed text-foreground/85">
                                    If you wish to add <span class="font-bold uppercase">all</span> components at once (doesn't include samples), you can do that like so:
                                </span>
                                <CommandBlock Options="@NewProject3" DefaultOption="@("dotnet")"/>
                            </div>)

                        <div class="flex flex-col gap-3 mt-6 p-4 rounded-lg bg-muted/50 border border-border">
                            <span class="font-bold text-lg">Tailwind CSS</span>
                            <span class="text-[0.9rem] leading-relaxed text-foreground/85">
                                New projects use <code>Tailwind.MSBuild</code> to automatically compile <code>wwwroot/css/input.css</code> to <code>wwwroot/css/app.css</code> on each build. The package downloads the Tailwind CLI on first build. No additional setup is required.
                            </span>
                        </div>
                    </div>
                </div>
            </DocsSubSection>

            <DocsSubSection Title="From Existing Project" Id="installation-existing">
                <Alert Variant="@AlertVariant.Destructive" Class="mb-6">
                    <p class="font-medium">Tailwind not configured by init</p>
                    <p class="text-muted-foreground text-sm">
                        Unlike creating a new project, initializing an existing project <b>DOES NOT</b> add Tailwind compilation. You must configure it yourself: add <code class="text-destructive bg-destructive/15">Tailwind.MSBuild</code> to your project, or use the standalone <code class="text-destructive bg-destructive/15">tailwindcss</code> CLI to compile <code>input.css</code> to <code>app.css</code>.
                    </p>
                </Alert>
                
                <div class="flex flex-col gap-4">
                    <div class="flex flex-col gap-8 mt-3">
                        @RenderStep(1,
                            @<div class="flex flex-col gap-3">
                                <span class="font-bold text-lg">Initialize Project</span>
                                <span class="text-[0.9rem] leading-relaxed text-foreground/85">
                                    Navigate into your existing Blazor project directory and run <code>init</code> to add ShadcnBlazor configuration, the <code>Shared</code> folder, CSS/JS assets, and TailwindMerge.
                                </span>
                                <CommandBlock Options="@InitExisting1" DefaultOption="@("dotnet")"/>
                            </div>)

                        @RenderStep(2,
                            @<div class="flex flex-col gap-3">
                                <span class="font-bold text-lg">Add Components</span>
                                <span class="text-[0.9rem] leading-relaxed text-foreground/85">
                                    You can now start adding components into your project.
                                </span>
                                <CommandBlock Options="@InitExisting2" DefaultOption="@("dotnet")"/>

                                <span class="mt-4 text-[0.9rem] leading-relaxed text-foreground/85">
                                    If you wish to add <span class="font-bold uppercase">all</span> components at once (doesn't include samples), you can do that like so:
                                </span>
                                <CommandBlock Options="@InitExisting3" DefaultOption="@("dotnet")"/>
                            </div>)
                    </div>
                </div>
            </DocsSubSection>
        </div>
    </DocsSection>
</div>
</TocPageBase>

@code {
    private RenderFragment RenderStep(int number, RenderFragment contents) => __builder =>
    {
        <div class="grid grid-cols-[7.5%_92.5%]">
            <div class="w-full">
                <div class="bg-card rounded rounded-2xl w-fit px-3 py-1">
                    @number
                </div>
            </div>
            @contents
        </div>
    };
    
    private static readonly Dictionary<string, string> InstallOptions = new()
    {
        ["dotnet"] = "dotnet tool install --global shadcnblazor",
    };
    
    private static readonly Dictionary<string, string> NewProject1 = new()
    {
        ["dotnet"] = "shadcnblazor new --wasm --proj MyApp --namespace MyApp",
    };

    private static readonly Dictionary<string, string> NewProject1WithOut = new()
    {
        ["dotnet"] = "shadcnblazor new --server --proj MyApp --namespace MyApp -o ./projects",
    };

    private static readonly Dictionary<string, string> InitExisting1 = new()
    {
        ["dotnet"] = "cd MyBlazorProject && shadcnblazor init",
    };

    private static readonly Dictionary<string, string> NewProject2 = new()
    {
        ["dotnet"] = "cd MyApp && shadcnblazor component add button",
    };

    private static readonly Dictionary<string, string> NewProject3 = new()
    {
        ["dotnet"] = "shadcnblazor component add --all",
    };

    private static readonly Dictionary<string, string> InitExisting2 = new()
    {
        ["dotnet"] = "shadcnblazor component add button",
    };

    private static readonly Dictionary<string, string> InitExisting3 = new()
    {
        ["dotnet"] = "shadcnblazor component add --all",
    };
}