@page "/introduction"

<TocPageBase>
<div class="flex flex-col gap-8 min-w-0">
    <div class="flex flex-col gap-1">
        <h1 class="text-3xl font-bold">Introduction</h1>
        <p class="text-base text-muted-foreground">shadcn/ui is a set of beautifully-designed, accessible components and a code distribution platform. Works with your favorite frameworks and AI models. Open Source. Open Code.</p>
    </div>

    <div class="w-full text-[0.9rem] leading-[1.75] text-foreground/85">
        <p class="mb-3">
            I'm sure you're well aware of the problems of typical component libraries: you install a package from <code>NuGet</code>, configure your project, and then use the components in your app. 
            This approach works until you need to modify the source code of your system to fit the requirements of your app.
            For example, you may need to expose the internal state of a component, or you need finer control over the styling.
            Often, you end up wrapping library components, writing workarounds to override styles, or mixing components from different libraries with incompatible APIs.
        </p>
        
        <p class="mb-3">
            ShadcnBlazor solves this by copying component source code directly into your projectâ€”you own the code. 
            There's no black box: components live in your codebase, so you can read, modify, and extend them however you need.
            Components are built with Tailwind CSS v4 and semantic CSS variables for theming. 
            They're accessible, customizable, and designed to fit naturally into Blazor apps without fighting the framework.
        </p>
    </div>

    <DocsSection Title="Installation" Id="installation">
        
        <div class="flex flex-col gap-8">
            <div class="space-y-6 mb-8">
                <p class="mb-3">
                    First, make sure you have the <code>shadcnblazor</code> CLI tool installed. If you don't have it yet, you can install it globally using the command provided below:
                </p>

                <CommandBlock Options="@InstallOptions" DefaultOption="@("shell")"/>
            </div>

            <DocsSubSection Title="From New Project" Id="installation-new">
                <div class="flex flex-col gap-4">
                    <div class="flex flex-col gap-8 mt-3">
                        @RenderStep(1,
                            @<div class="flex flex-col gap-3">
                                <span class="font-bold text-lg">Create New Project</span>
                                <span class="text-[0.9rem] leading-relaxed text-foreground/85">
                                    Use the <code>new</code> command to scaffold a Blazor project from a template. Specify <code>--wasm</code> for WebAssembly standalone or <code>--server</code> for Blazor Server with global interactivity.
                                </span>
                                <CommandBlock Options="@NewProject1" DefaultOption="@("shell")"/>
                                <span class="text-[0.9rem] leading-relaxed text-foreground/85">
                                    Use <code>-o</code> or <code>--out</code> to specify an output directory. By default, the project is created in <code>./{proj}</code>.
                                </span>
                                <CommandBlock Options="@NewProject1WithOut" DefaultOption="@("shell")"/>
                            </div>)

                        @RenderStep(2,
                            @<div class="flex flex-col gap-3">
                                <span class="font-bold text-lg">Add Components</span>
                                <span class="text-[0.9rem] leading-relaxed text-foreground/85">
                                    Navigate into the project directory and add components.
                                </span>
                                <CommandBlock Options="@NewProject2" DefaultOption="@("shell")"/>

                                <span class="mt-4 text-[0.9rem] leading-relaxed text-foreground/85">
                                    If you wish to add <span class="font-bold uppercase">all</span> components at once (doesn't include samples), you can do that like so:
                                </span>
                                <CommandBlock Options="@NewProject3" DefaultOption="@("shell")"/>
                            </div>)
                    </div>
                </div>
            </DocsSubSection>

            <DocsSubSection Title="From Existing Project" Id="installation-existing">
                <div class="w-full gap-y-6">
                    <Alert Variant="@AlertVariant.Default" Class="mb-6">
                        <p class="font-bold">Tailwind Configuration</p>
                        <div class="text-muted-foreground text-sm space-y-4">
                            <p>
                                This library ships a <b>precompiled tailwind file</b>, meaning the components should render properly out of the box.
                                However, if you would like to use custom tailwind utilities, please note that adding components <b>DOES NOT</b> provide a tailwind configuration or compilation mechanism.
                            </p>
                            
                            <p class="text-muted-foreground text-sm">
                                You must configure Tailwind CSS compilation yourself. We recommend installing <a href="https://www.nuget.org/packages/Tailwind.MSBuild" target="_blank" class="text-primary underline">Tailwind.MSBuild</a> or downloading the <a href="https://tailwindcss.com/blog/standalone-cli" target="_blank" class="text-primary underline">standalone Tailwind CLI</a> executable to compile <code class="bg-muted px-1 rounded">input.css</code> to <code class="bg-muted px-1 rounded">app.css</code>.
                            </p>
                        </div>
                    </Alert>
                    
                    <Alert Variant="@AlertVariant.Destructive" Class="mb-6">
                        <p class="font-bold">Bootstrap Conflicts</p>
                        <p class="text-muted-foreground text-sm mb-3">
                            Blazor templates include Bootstrap by default, which <b>conflicts with Tailwind CSS</b> and will break component styling. You must resolve these css conflicts manually, or remove Bootstrap from your project:
                        </p>
                        <p class="text-muted-foreground text-sm">
                            Remove this line from <code class="text-destructive bg-destructive/15">wwwroot/index.html</code> or <code class="text-destructive bg-destructive/15">Components/App.razor</code>:
                        </p>
                        <pre class="bg-destructive/10 p-2 rounded text-xs mt-2 overflow-x-auto">&lt;link href="css/bootstrap/bootstrap.min.css" rel="stylesheet" /&gt;</pre>
                    </Alert>
                </div>

                <div class="flex flex-col gap-4">
                    <div class="flex flex-col gap-8 mt-3">
                        @RenderStep(1,
                            @<div class="flex flex-col gap-3">
                                <span class="font-bold text-lg">Add Components</span>
                                <span class="text-[0.9rem] leading-relaxed text-foreground/85">
                                    Navigate into your existing Blazor project directory and run <code>component add</code>. Setup (Shared folder, CSS/JS assets, TailwindMerge) runs automatically on first add.
                                </span>
                                <CommandBlock Options="@InitExisting1" DefaultOption="@("shell")"/>

                                <span class="mt-4 text-[0.9rem] leading-relaxed text-foreground/85">
                                    If you wish to add <span class="font-bold uppercase">all</span> components at once (doesn't include samples), you can do that like so:
                                </span>
                                <CommandBlock Options="@InitExisting3" DefaultOption="@("shell")"/>
                            </div>)
                    </div>
                </div>
            </DocsSubSection>
        </div>
    </DocsSection>
</div>
</TocPageBase>

@code {
    private RenderFragment RenderStep(int number, RenderFragment contents) => __builder =>
    {
        <div class="grid grid-cols-[7.5%_92.5%]">
            <div class="w-full">
                <div class="bg-card rounded rounded-2xl w-fit px-3 py-1">
                    @number
                </div>
            </div>
            @contents
        </div>
    };
    
    private static readonly Dictionary<string, string> InstallOptions = new()
    {
        ["shell"] = "dotnet tool install --global ShadcnBlazor.Cli",
    };
    
    private static readonly Dictionary<string, string> NewProject1 = new()
    {
        ["shell"] = "shadcnblazor new --wasm --proj MyApp",
    };

    private static readonly Dictionary<string, string> NewProject1WithOut = new()
    {
        ["shell"] = "shadcnblazor new --server --proj MyApp -o ./projects",
    };

    private static readonly Dictionary<string, string> InitExisting1 = new()
    {
        ["shell"] = "shadcnblazor component add button",
    };

    private static readonly Dictionary<string, string> NewProject2 = new()
    {
        ["shell"] = "shadcnblazor component add button",
    };

    private static readonly Dictionary<string, string> NewProject3 = new()
    {
        ["shell"] = "shadcnblazor component add --all",
    };

    private static readonly Dictionary<string, string> InitExisting3 = new()
    {
        ["shell"] = "shadcnblazor component add --all",
    };
}