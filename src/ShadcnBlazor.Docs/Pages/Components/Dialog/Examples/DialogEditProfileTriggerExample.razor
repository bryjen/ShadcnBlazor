@using ShadcnBlazor.Components.Dialog
@using ShadcnBlazor.Components.Dialog.Models
@using ShadcnBlazor.Components.Dialog.Services
@using ShadcnBlazor.Components.Button
@using ShadcnBlazor.Docs.Pages.Components.Dialog.Examples
@using ShadcnBlazor.Shared.Enums

<Button Variant="@Variant.Default" OnClick="OpenDialog">Open Dialog</Button>

@code {
    [Inject]
    private IDialogService DialogService { get; set; } = null!;

    private async Task OpenDialog()
    {
        var parameters = new DialogParameters
        {
            { nameof(EditProfileDialogExample.Name), "Pedro Duarte" },
            { nameof(EditProfileDialogExample.Username), "@peduarte" }
        };
        var options = new DialogOptions
        {
            CloseButton = true,
            MaxWidth = DialogMaxWidth.Small,
            Description = "Make changes to your profile here. Click save when you're done."
        };
        var dialogRef = DialogService.Show<EditProfileDialogExample>("Edit profile", parameters, options);
        var result = await dialogRef.Result;

        if (!result.Cancelled && result.Data is (string name, string username))
        {
            // In a real app you might show a toast or update state
            await Task.CompletedTask; // placeholder
        }
    }
}
