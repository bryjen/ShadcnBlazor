@inherits ShadcnComponentBase
@using EasyAppDev.Blazor.Icons.Lucide
@using ShadcnBlazor.Docs.Components.Samples.AiChat.Models

<Accordion Collapsible DefaultValue="@(AccordionDefaultValue())" Class="w-full">
    <AccordionItem Value="thinking" Class="border-0">
        <AccordionTrigger Class="py-2 text-xs text-muted-foreground hover:no-underline">
            <div class="flex items-center gap-2 font-bold">
                <LuBrain class="h-4 w-4" />
                @if (Component.ThinkingTime.HasValue)
                {
                    <span>Thought for @(Component.ThinkingTime.Value)    seconds</span>
                }
                else
                {
                    <span>Thinking...</span>
                }
            </div>
        </AccordionTrigger>
        <AccordionContent>
            <div class="text-sm text-muted-foreground leading-relaxed">
                @Component.Content
            </div>
        </AccordionContent>
    </AccordionItem>
</Accordion>

@code
{
    [Parameter]
    public required ThinkingMessageComponent Component { get; set; }
    
    [Parameter]
    public required bool AccordionExpanded { get; set; }

    private string AccordionDefaultValue() => AccordionExpanded ? "thinking" : string.Empty;
}
