@using EasyAppDev.Blazor.Icons.Lucide

@inherits ShadcnComponentBase

<div class="@GetWrapperClass()">
    <div class="@GetCodeBlockClass() flex min-w-0 overflow-x-auto">
        @if (ShowLineNumbers)
        {
            <div class="docs-codeblock-linenos select-none py-4 pr-4 pl-4 text-right text-xs text-muted-foreground/50 leading-[1.65]">
                @foreach (var lineNum in _lineNumbers)
                {
                    <div>@lineNum</div>
                }
            </div>
        }
        <pre class="flex-1 min-w-0 pr-4 @(ShowLineNumbers ? "pl-0" : "pl-4") overflow-x-auto text-xs font-mono leading-[1.65] m-0 border-0"><code class="language-@Language" id="@_id">@Code</code></pre>
    </div>
    @if (ShowCopyButton)
    {
        <Button Size="@Size.Sm"
                Variant="@Variant.Ghost"
                Class="@GetCopyButtonClass()"
                OnClick="CopyCodeAsync"
                title="@(_copied ? "Copied!" : "Copy code")">
            @if (_copied)
            {
                <LuCheck class="size-4 transition-colors duration-200" />
            }
            else
            {
                <LuCopy class="size-4 transition-colors duration-200" />
            }
        </Button>
    }
</div>
